{
    "$id": "SkyPathLog.schema.json",
    "title": "SkyPath and Engine Log",
	"version": "3.3",
	"type": "object",
	"properties": {
		"schemaName":{
			"type": "string",
          	"default": "SkyPath and Engine Log",
			"description": "The name/type of the json schema describing this message"
		},
      "schemaVersion":{
			"type": "string",
            "default": "3.3",
			"description": "The version of the json schema describing this message"
		},
      "timestamp": {
			"description": "The UTC time that the log record was created in. Format: YYYY-MM-DDTHH:mm:ss.SSSZ (ISO-8601)",
			"type": "string",
			"format": "date-time"
		},
		"logRecordId": {
			"description": "A unique ID for this log record (GUID/UUID).",
			"type": "string"
		},
		"logLevel": {
			"type": "string",
			"enum": [
				"fatal",
				"error",
				"warning",
				"info",
                "debug",
                "trace"
			]
		},
		"microserviceData": {
			"systemName": {
				"description": "System's name, such as: SkyPath, SaknaiShobEngine etc.",
				"type": "string"
			},
			"serviceName": {
				"description": "A unique name for each microservice",
				"type": "string"
			},
			"serviceVersion": {
				"description": "Microservice's application version",
				"type": "string"
			},
			"podId": {
				"description": "Put here the current host-name. It is a unique ID for each pod.",
				"type": "string"
			}
		},
		"logString": {
			"description": "String that describes the event that has been ocours",
			"type": "string"
		},
		"itemIds": {
			"description": "Keeps ALL the message's IDs. For example: when a Skypath message is logged use 'skypathMessageId', when creating an ID for medium add to this object a 'saknaiMediumId', or when having to correlate a messageId with octupus use 'correlationEntityId'. The content of this object is not validated by SkyPath and used for monitoring only. Not required, but very recommended to log when handling an item or a message.",
			"type": "object"
		},
		"item": {
			"description": "Message's payload. Not required, but very recommended to log when recieving a new item, or creating a new one.",
			"type": "object"
		},
		"labels": {
			"description": "Message's labels. Not required, but very recommended for filtering the logs from the same flow or the same kind in Kibanna. Used also for labeling a log with a relevant 'Octopus-eventKind'.",
			"type": "array",
			"items": {
				"type": "string"
			}
		}
	},
	"required": [
		"timestamp",
		"logRecordId",
		"logLevel",
		"microserviceData",
		"logString"	
    ]
}